@using ASOFT.ERP.A00.Core;
@using ASOFT.ERP.A00.Entities.Infrastructure;
@using ASOFT.ERP.A00.Entities.Database;
@using ASOFT.ERP.A00.Entities.Common;
@using ASOFT.ERP.ViewModel;
@using System.Web.UI.WebControls;
@using  ASOFT.ERP.ViewModel.CRM;
@using Kendo.Mvc;
@model ASOFT.ERP.ViewModel.DRM.DRF2020ViewModel

@helper FilterCol1(){
    @Html.Partial(@"../Shared/DRMPeriodFilter",
    new ASOFT.ERP.ViewModel.A00.PeriodFilterViewModel())
    <tr>
        <td  class="asf-td-align">@Html.ASOFTLabel(model => model.TeamID)</td>
        <td colspan="4">@(Html.ASOFTBussinessComboBox()
                            .ASOFTDRMTeamID(model => model.TeamID, showAll: true)
                            .SelectedIndex(0))</td>
    </tr>
    <tr>
        <td  class="asf-td-align">@Html.ASOFTLabel(model => model.CustomerID)</td>
        <td colspan="4">@(Html.ASOFTBussinessComboBox()
                            .ASOFTDRMCustomerID(model => model.CustomerID, showAll: true)
                            .SelectedIndex(0))</td>
    </tr>
     @*<tr>
        <td class="asf-td-align"  width="25%">
            @Html.ASOFTLabel(model => model.SendFromDate)
        </td>
        <td class="container_period_control">
            @(Html.ASOFTDateEdit(model => model.SendFromDate).Value(Model.SendFromDate))
        </td>
        <td class="container_period_space"></td>
        <td class="container_period_label asf-td-align">@Html.ASOFTLabel(model => model.SendToDate)</td>
        <td class="container_period_control">
            @(Html.ASOFTDateEdit(model => model.SendToDate).Value(Model.SendToDate))
        </td>
    </tr>*@
}

@helper FilterCol2(){
    <tr>
        <td class="asf-td-align">@Html.ASOFTLabel(model => model.ProcessingID)</td>
        <td class="container_period_control">@Html.ASOFTTextBox(model => model.ProcessingID)</td>
    </tr>
    <tr>
        <td class="asf-td-align">@Html.ASOFTLabel(model => model.ContractNo)</td>
        <td>@Html.ASOFTTextBox(model => model.ContractNo)</td>
    </tr>
    <tr>
        <td class="asf-td-align">@Html.ASOFTLabel(model => model.ActionID)</td>
        <td>@(Html.ASOFTBussinessComboBox()
                    .ASOFTDRMInfoTypeID(model => model.ActionID, "Action",
                    ASOFTLanguage.FindWordA00("A00.ActionID"), ASOFTLanguage.FindWordA00("A00.ActionName"), true)
                    .SelectedIndex(0))
        </td>
    </tr>
    <tr>
        <td class="asf-td-align">@Html.ASOFTLabel(model => model.ActionEmployeeName)</td>
        <td>@Html.ASOFTTextBox(model => model.ActionEmployeeName)</td>
    </tr>
}

@helper FilterCol3(){
     <tr>
        <td class="asf-td-align">@Html.ASOFTLabel(model => model.DebtorName)</td>
        <td>@(Html.ASOFTTextBox(model => model.DebtorName))
        </td>
    </tr>
     <tr>
        <td class="asf-td-align">@Html.ASOFTLabel(model => model.ResultID)</td>
        <td>@(Html.ASOFTBussinessComboBox()
                    .ASOFTDRMInfoTypeID(model => model.ResultID, "Result",
                    ASOFTLanguage.FindWordA00("A00.ResultID"), ASOFTLanguage.FindWordA00("A00.ResultName"), true)
                    .SelectedIndex(0))
        </td>
    </tr>
     <tr>
        <td class="asf-td-align">@Html.ASOFTLabel(model => model.NextActionDate)</td>
        <td>@(Html.ASOFTDateEdit(model => model.NextActionDate).Value(Model.NextActionDate))</td>
    </tr>
}

@{
    Html.RenderSection("MainView", new Dictionary<string, object>() { 
        { "FilterCol1", this.FilterCol1().ToHtmlString() },     
        { "FilterCol2", this.FilterCol2().ToHtmlString() },     
        { "FilterCol3", this.FilterCol3().ToHtmlString() }   
    });
}
