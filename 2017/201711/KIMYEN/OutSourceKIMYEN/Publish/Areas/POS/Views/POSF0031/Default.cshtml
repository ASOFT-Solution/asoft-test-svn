@*
//####################################################################
//# Copyright (C) 2010-2011, ASoft JSC.  All Rights Reserved. 
//#
//# History:
//#     Date Time       Updater         Comment
//#     19/6/2014       Chanh Thi        Tạo mới
//####################################################################
*@

@using ASOFT.ERP.A00.Core;
@using ASOFT.ERP.A00.Entities.Database

@model ASOFT.ERP.ViewModel.POS.POSF0031ViewModel

@{
    Layout = "~/Views/Shared/_PopupLayout.cshtml";
    ViewBag.Title = @Html.ASOFTPageTitle(@Html.PopupEditTitle(m => m.Title), "POSF0031").ToHtmlString();
    ViewBag.Width = 900;
}

@Html.ASOFTHidden("UrlInsert", Url.Action("Insert"))
<div class="asf-form-container">
    @using (Html.BeginForm(null, null, FormMethod.Post, new
    {
        id = "POSF0031"
    }))
    {
        <div class="inner">
            <div class="header row">
                &nbsp;
            </div>

            <div class="body row scroll-y">
                <fieldset>
                    <legend>Title</legend>
                    <table class="asf-table-view">
                        <tr>
                            <td>@Html.ASOFTLabel(model => model.CurrentZone)</td>
                            <td>
                                @(Html.ASOFTTextBox(model => model.CurrentZone).DisabledIf(true))
                            </td>
                        </tr>
                        <tr>
                            <td>@Html.ASOFTLabel(model => model.CurrentTable)</td>
                            <td>
                                @(Html.ASOFTTextBox(model => model.CurrentTable).DisabledIf(true))
                            </td>
                        </tr>
                    </table>
                    <div class="clearfix"></div>
                    @Html.Partial("GridTable1")
                </fieldset>
                <ul class="middle-buttons">
                    <li>@(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnChangeSingle"))
                      .Name("changeSingle")
                      .Events(m => m.Click("changeSingle")))
                    </li>

                    <li>@(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnChangeAll"))
                      .Name("BtnClose")
                      .Events(e => e.Click("changeAll")))
                    </li>

                    <li>@(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnChangeReturn"))
                      .Name("returnSingle")
                      .Events(e => e.Click("returnSingle")))
                    </li>

                </ul>
                <fieldset>
                    <legend>Title</legend>
                    <table class="asf-table-view">
                        <tr>
                            <td>@Html.ASOFTLabel(model => model.NewZone)</td>
                            <td>
                                @(Html.ASOFTBussinessComboBox()
                              .ASOFTAreaID(model => model.NewZone)
                              .DataTextField(POST0031.COL_AREANAME).SelectedIndex(0)
                              )
                            </td>
                        </tr>
                        <tr>
                            <td>@Html.ASOFTLabel(model => model.NewTable)</td>
                            <td>

                                @(Html.ASOFTBussinessComboBox().ASOFTTableIDByAPK(model => model.NewTable,
                                          htmlAttributes: new Dictionary<string, object> {
                                              {"data-bind","value:NewTable"}}
                                          )
                                          .Name("NewTable")
                                          .DataSource(source =>
                                          {
                                              source.Read(read =>
                                              {
                                                  read.Action("TableIDListByAPK", "ComboBox", new
                                                  {
                                                      area = ""
                                                  }).Data("filterNewTable");
                                              })
                                                  .ServerFiltering(true);
                                          })
                                          .CascadeFrom("APK")
                                          .Events(e => e.Change("Combobox_Change")).SelectedIndex(0)
                                          )
                            </td>
                        </tr>
                    </table>
                    <div class="clearfix"></div>
                    @Html.Partial("GridTable2")
                </fieldset>
            </div>

            <div class="footer row">
                <div class="asf-form-button">
                    <table class="asf-table-view">
                        <tr>
                            <td>
                                <div class="asf-popup-button-container">
                                    <div>
                                        @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnClose"))
                                  .Name("btnClose")
                                  .Events(e => e.Click("ASOFT.asoftPopup.closeOnly")))
                                    </div>
                                    <div>
                                        @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnSave"))
                                  .Name("btnSaveNew")
                                  .Events(e => e.Click("btnSaveNew")))

                                    </div>


                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div> 
    }
</div>

@section styleFeature{
    <link href="@Url.Content("~/Areas/POS/Content/POSF0031.css")" rel="stylesheet" type="text/css" />
}

@section jsFeature {
    <script src="@Url.Content("~/Areas/POS/Scripts/POSF0031RWD/POSF0031RWD.js")" type="text/javascript"></script>
}
