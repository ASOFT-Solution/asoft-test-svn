@using ASOFT.ERP.ViewModel.Helper;
@using ASOFT.ERP.A00.Core


@model ASOFT.ERP.ViewModel.ASOFTSysFieldsViewModel

@{
    string Data = string.Empty;
    if (Model.listAttach != null && Model.listAttach.Count > 0)
    {
        foreach(var file in Model.listAttach)
        {
            Data += file.AttachID + ",";
        }
        Data.Remove(Data.Length - 1);
    }
}

<script type="text/javascript">
    $(document).ready(function() {
        $("#btnAttachFile_@Model.ColumnName").bind("click", function () {
            btnAttachFileDynamic_click("@Model.ColumnName");
        })

        $("#btnDeleteUpload_@Model.ColumnName").bind("click", function () {
            btnDeleteUploadDynamic_click("@Model.ColumnName");
        })
        genHtmlAttach(@Html.Raw(Json.Encode(Model.listAttach)), "@Model.ColumnName");
    })
</script>


@Html.ASOFTButton("...").Name("btnAttachFile_" + Model.ColumnName).HtmlAttributes(new
{
    @class = "k-button k-button-icontext asf-button",
    @style = "min-width:35px"
})

 @(Html.ASOFTButton("").HtmlAttributes(new { style = "height: 25px; min-width: 27px; border: 1px solid #dddddd", @class = "asf-i-delete-32 k-button-icontext" }).Name("btnDeleteUpload_" + Model.ColumnName))



@Html.ASOFTHidden(Model.ColumnName, Data)
@Html.ASOFTHidden(Model.ColumnName + "_Content_DataType", Model.sysDataTypeID)
@Html.ASOFTHidden(Model.ColumnName + "_Type_Fields", Model.Type)