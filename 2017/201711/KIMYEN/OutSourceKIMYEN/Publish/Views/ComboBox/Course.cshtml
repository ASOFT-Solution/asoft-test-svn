@using ASOFT.ERP.A00.Core
@using ASOFT.ERP.A00.Entities.Database

@model ASOFT.ERP.A00.Entities.Common.CourseComboboxModel
@{
    var courseComboBox = (Html.ASOFTCombobox(model => model.CourseID, htmlStyle: Model.Style)
        .Name(Model.Name)
        .DataValueField(MTT1000.COL_COURSEID)
        .DataTextField(MTT1000.COL_COURSENAME)
        .Enable(Model.Enabled)
        );
        
    if (!string.IsNullOrEmpty(Model.SelectedIndexChanged))
    {
        courseComboBox.Events(model => model.Change(Model.SelectedIndexChanged));
    }
    
    if (Model.List != null && Model.List.Count > 0)
    {
        if (Model.SelectedFirst)
        {
            courseComboBox.SelectedIndex(0);
        }

        //Hiển thị giá trị %
        if (Model.ShowAll)
        {
            Model.List.Insert(0, new MTT1000()
            {
                CourseID = "%",
                CourseName = ASOFTLanguage.FindWordA00("A00.All")
            });
        }

        courseComboBox.BindTo(Model.List);
    }
}


@courseComboBox
