@{
    ViewBag.Title = "GridPartialLMP2031";
    string screenID = ViewBag.screenID;
}

@using ASOFT.ERP.A00.Core.Control
@using ASOFT.ERP.ViewModel.S 
@using ASOFT.ERP.A00.Core
@using ASOFT.ERP.ViewModel.Helper;
@model  ASOFT.ERP.ViewModel.LM.LMF2031GridViewModel
@{
   
    var gridsetting = new ASOFTGridSetting
    {
        NameGrid = "GridPartialLMP2031",
        NameEventPost = "sendDataLMP2031",
        Scrollable = true,
        IsShowCheck = false,
        ActionName = "GridDataLMP2031",
        ControllerName = "Partial",
        IsAutoHeight = false,
        HtmlAttribute = new { @class = "asf-grid" },
        ListGridColumn = new List<ASOFTGridColumnSetting>
        {
            new ASOFTGridColumnSetting
            {
                IDColumn = "RowNum",
                ClientTemplate = "#= renderNumber(data) #",
                TitleColumn = ASOFTLanguage.FindWordA00("A00.Number"),
                Width = 30,
                VisibleColumn = true,
                HtmlAttrCoulmns = (new {@class = "asf-cols-align-center"}),
            },
           new ASOFTGridColumnSetting
            {
                IDColumn = "PaymentName",
                TitleColumn = LocalizedHelper.GetLocalizedResourceString("LMF2031.PaymentName", "LMF2031", "LM"),
                Width = 100,
                VisibleColumn = true,
                EditColumn=true,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "PaymentType",
                TitleColumn = LocalizedHelper.GetLocalizedResourceString("LMF2031.PaymentType", "LMF2031", "LM"),
                Width = 100,
                VisibleColumn = true,
                EditColumn=true,
                EditorTemplateName="ComboBoxPaymentType",
                ClientTemplate=" #=PaymentTypeName!=null?PaymentTypeName:''#",
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = ASOFT.ERP.LM.Entities.StoredProcedure.LMP2031.COL_ACTUALDATE,
                TitleColumn = LocalizedHelper.GetLocalizedResourceString("LMF2031.ActualDate", "LMF2031", "LM"),
                Width = 150,
                VisibleColumn = true,
                EditColumn=true,
                EditorTemplateName="DateGrid2",
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "ActualOriginalAmount",
                TitleColumn =LocalizedHelper.GetLocalizedResourceString("LMF2031.ActualOriginalAmount", "LMF2031", "LM"),
                Width = 90,
                EditColumn=true,
                ClientTemplate="#= kendo.toString(parseFloat(data.ActualOriginalAmount), ASOFTEnvironment.NumberFormat.KendoExchangeRateDecimalsFormatString) || ''#",
               EditorTemplateName="ExchangeRateDecimal",
                VisibleColumn = true,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "ActualConvertedAmount",
                TitleColumn = LocalizedHelper.GetLocalizedResourceString("LMF2031.ActualConvertedAmount", "LMF2031", "LM"),
                Width = 90,
                ClientTemplate="#= kendo.toString(parseFloat(data.ActualConvertedAmount), ASOFTEnvironment.NumberFormat.KendoConvertedDecimalsFormatString) || ''#",
                EditorTemplateName="ConvertedDecimal",
                VisibleColumn = true,
                EditColumn=true,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "PaymentAccountID",
                TitleColumn = LocalizedHelper.GetLocalizedResourceString("LMF2031.PaymentAccountID", "LMF2031", "LM"),
                Width = 100,
                VisibleColumn = true,
                EditorTemplateName="ComboBoxPaymentAccountID",
                ClientTemplate=" #=PaymentAccountID!=null?PaymentAccountID:''#",
                EditColumn=true,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "CostTypeID",
                TitleColumn = LocalizedHelper.GetLocalizedResourceString("LMF2031.CostTypeID", "LMF2031", "LM"),
                Width = 100,
                VisibleColumn = true,
                EditorTemplateName="ComboBoxCostTypeID",
                ClientTemplate="#=CostTypeName!=null?CostTypeName:''#",
                EditColumn=true,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "Notes",
                TitleColumn = LocalizedHelper.GetLocalizedResourceString("LMF2031.Notes", "LMF2031", "LM"),
                Width = 100,
                VisibleColumn = true,
                EditColumn=true,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "PaymentPlanTransactionID",
                Width = 100,
                VisibleColumn = false,
                EditColumn=false,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "InheritTableName",
                Width = 100,
                VisibleColumn = false,
                EditColumn=false,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "InheritVoucherID",
                Width = 100,
                VisibleColumn = false,
                EditColumn=false,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "InheritTransactionID",
                Width = 100,
                VisibleColumn = false,
                EditColumn=false,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "IsPrePayment",
                Width = 100,
                VisibleColumn = false,
                EditColumn=false,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "TransactionID",
                Width = 100,
                VisibleColumn = false,
                EditColumn=false,
            },
            new ASOFTGridColumnSetting
            {
                IDColumn = "IsUpdate",
                Width = 100,
                VisibleColumn = false,
                EditColumn=false,
            }
        }
    };
}


@{
    var handleCol = new ASOFTGridColumnSetting();
    if (screenID.Equals("LMF2031") || screenID.Equals("LMF2041"))
    {
        handleCol = new ASOFTGridColumnSetting
            {
                IDColumn = ASOFT.ERP.LM.Entities.StoredProcedure.LMP2031.COL_PAYMENTDATE,
                TitleColumn = LocalizedHelper.GetLocalizedResourceString("LMF2031.PaymentDate", "LMF2031", "LM"),
                Width = 150,
                VisibleColumn = true,
                EditColumn = false,
                //EditorTemplateName = "DateGrid2",
                ClientTemplate = "#=PaymentDate_ClientTemplate(data.PaymentDate)#"
            };
        gridsetting.ListGridColumn.Insert(1, handleCol);

        handleCol = new ASOFTGridColumnSetting
        {
            IDColumn = "ExchangeRate",
            TitleColumn = LocalizedHelper.GetLocalizedResourceString("LMF2031.ExchangeRate", "LMF2031", "LM"),
            Width = 100,
            VisibleColumn = true,
            ClientTemplate = "#= kendo.toString(parseFloat(data.ExchangeRate), ASOFTEnvironment.NumberFormat.KendoExchangeRateDecimalsFormatString) || ''#",
            EditorTemplateName = "ExchangeRateDecimal",
            EditColumn = true,
        };
        gridsetting.ListGridColumn.Insert(5, handleCol);
        
        @(Html.ASOFTCreateGridEdit<ASOFT.ERP.LM.Entities.StoredProcedure.LMP2031>(gridsetting,false))
    }
    else
    {
        @(Html.ASOFTCreateGridNotPagging<ASOFT.ERP.LM.Entities.StoredProcedure.LMP2031>(gridsetting))
    }
}