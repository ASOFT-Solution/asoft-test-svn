@*
//####################################################################
//# Copyright (C) 2010-2011, ASoft JSC.  All Rights Reserved. 
//# History:
//#     Date Time       Created         Comment
//#     18/07/2014      Hoang Tu        Tạo mới
//####################################################################
*@
@using ASOFT.ERP.A00.Core;
@using ASOFT.ERP.A00.Entities.Database
@model ASOFT.ERP.ViewModel.POS.POSF0053ViewModel
@{
    Layout = "~/Views/Shared/_PopupLayout.cshtml";
    ViewBag.Title = @Html.ASOFTPageTitle(@Html.PopupEditTitle(m => m.Title), "POSF0053").ToHtmlString();
    ViewBag.Width =500;
}
<div class="asf-form-container">      
    @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "POSF0053" }))
    {        
            <span class="hide"> 
                   @Html.ASOFTTextBox(model => model.LastModifyDateValue)                  
            </span>
            <div class="container_12">
                 <div class="grid_12">
                   <table class="asf-table-view">
                <tr>                
                <td >@Html.ASOFTLabel(model => model.AreaID)</td>
                <td class="container_control">
                    @if (Model.FormStatus == ASOFTFormActionType.AddNew)
                    {
                        <table class="asf-table-view">
                            <tr>                                                           
                                    
                            @Html.ASOFTBussinessComboBox().ASOFTAreaIDList(model=>model.AreaID, 
                            htmlStyle: new { width = Unit.Percentage(100) })                  
                                      
                                                             
                            </tr>
                        </table>
                    }
                    else
                    {
                        @(Html.ASOFTTextBox(model => model.AreaID,
                                            htmlStyle: new
                                            {
                                                width = Unit.Percentage(100),
                                                title = "..."
                                            }).ReadOnlyIf(true))
                    }
                </td>
                </tr>                        
                <tr>                
                <td >@Html.ASOFTLabel(model => model.TableID)</td>
                <td class="container_control">
                    @if (Model.FormStatus == ASOFTFormActionType.AddNew)
                    {
                        <table class="asf-table-view">
                            <tr>                                                               
                                     
                             @Html.ASOFTTextBox(model => model.TableID,
                                htmlStyle: new { width = Unit.Percentage(100) })                     
                                </tr>                                                                       
                         </table>
                    }
                    else
                    {
                        @(Html.ASOFTTextBox(model => model.TableID,
                                            htmlStyle: new
                                            {
                                                width = Unit.Percentage(100),
                                                title = "..."
                                            }).ReadOnlyIf(true))
                    }
                </td>
                </tr>        
                         <tr>
                            <td>@Html.ASOFTLabel(model => model.TableName)</td>
                            <td>
                                @Html.ASOFTTextBox(model => model.TableName,
                                htmlStyle: new { width = Unit.Percentage(100) })
                            </td>
                        </tr>
                         <tr>
                            <td>@Html.ASOFTLabel(model => model.TableNameE)</td>
                            <td>
                                @Html.ASOFTTextBox(model => model.TableNameE,
                                htmlStyle: new { width = Unit.Percentage(100) })
                            </td>
                        </tr>
                         <tr>
                            <td>@Html.ASOFTLabel(model => model.Description)</td>
                            <td>
                                @Html.ASOFTTextBox(model => model.Description, 
                                htmlStyle: new { width = Unit.Percentage(100) })
                            </td>
                        </tr>
                         <tr>     
                    <td></td>           
                 <td >
                    @if (Model.FormStatus == ASOFTFormActionType.AddNew)
                    {             
                                                    
                    }
                    else
                    {
                        @Html.ASOFTCheckbox(model => model.Disabled)                      
                    }
                </td>
                </tr>
                       <tr>
                           <td></td>
                           <td>
                            @Html.ASOFTCheckbox(model=>model.IsCommon)
                        </td>
                       </tr>
                    </table>
                 </div>            
               <div class="container_12 asf-form-button">
                <ul>
                    @if (Model.FormStatus == ASOFTFormActionType.AddNew)
                    {
                        bool hasPermission = false;
                        
                        if (Model.AllowAdd())
                        {
                        hasPermission = true;                                       
                        }         
                             <li>
                                @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnSaveNew"))
                                .Name("posf0053SaveNew")                                
                                .Events(m => m.Click("posf0053SaveNew_Click"))
                                )                                       
                            </li>
                            <li>@(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnSaveCopy"))
                                .Name("posf0053SaveCopy")
                                .Events(m => m.Click("posf0053SaveCopy_Click")))
                            </li>                                                               
                             <li>
                            @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnClose"))
                              .Name("BtnClose")                    
                             .Events(e => e.Click(hasPermission? "popupClose_Click" : "ASOFT.asoftPopup.closeOnly"))
                                                      
                              )
                            </li>                       
                                          
                       
                        }
                        else
                        if (Model.FormStatus != ASOFTFormActionType.AddNew)
                        {
                            bool hasPermission = false;
                            if (Model.CheckPermission("POSF0053", ASOFTPermission.Update))
                            {
                               hasPermission = true;                          
                             }      
                                <li>
                                 @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnSave"))
                                  .Name("btnSaveNew")
                                  .Events(e => e.Click("btnUpdate_Click"))
                                  )
                                </li>
                                <li>
                                  @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnClose"))
                                  .Name("BtnClose")                                 
                                  .Events(e => e.Click(hasPermission ? "popupClose_ClickA" : "ASOFT.asoftPopup.closeOnly"))
                                 )                     
                                </li>                  
                                                                                       
                                               
                        }
                </ul>                  
               </div>           
            </div>          
    }
</div>
@section styleFeature{
    <link href="@Url.Content("~/Areas/POS/Content/POSF00035.css")" rel="stylesheet" type="text/css" />
}
@section jsFeature {
    <script src="@Url.Content("~/Areas/POS/Scripts/POSF0053.js")" type="text/javascript"></script>
}
@Html.ASOFTHidden("POSF0053ShopID", Model.ShopID)
@Html.ASOFTHidden("POSF0053DivisionID", Model.DivisionID)