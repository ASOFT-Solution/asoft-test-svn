
@*
//####################################################################
//# Copyright (C) 2010-2011, ASoft JSC.  All Rights Reserved. 
//#
//# History:
//#     Date Time       Updater         Comment
//#     19/6/2014       Chanh Thi        Tạo mới
//####################################################################
*@

@using ASOFT.ERP.A00.Core;
@using ASOFT.ERP.A00.Entities.Database

@model ASOFT.ERP.ViewModel.POS.POSF0031ViewModel

@{
    Layout = "~/Views/Shared/_PopupLayout.cshtml";
    ViewBag.Title = @Html.ASOFTPageTitle(@Html.PopupEditTitle(m => m.Title), "POSF0031").ToHtmlString();
    ViewBag.Width = 1200;
}

@Html.ASOFTHidden("UrlInsert", Url.Action("Insert"))
<div class="asf-form-container">
    @using (Html.BeginForm(null, null, FormMethod.Post, new
    {
        id = "POSF0031"
    }))
    {
         @Html.ASOFTHidden(model => model.APK)
         @Html.ASOFTHidden(model => model.TotalDiscountRateCurrentTable)
         @Html.ASOFTHidden(model => model.TotalDiscountAmountCurrentTable)
         @Html.ASOFTHidden(model => model.TotalRedureRateCurrentTable)
         @Html.ASOFTHidden(model => model.TotalRedureAmountCurrentTable)
         @Html.ASOFTHidden(model => model.TotalDiscountRateNewTable)
         @Html.ASOFTHidden(model => model.TotalDiscountAmountNewTable)
         @Html.ASOFTHidden(model => model.TotalRedureRateNewTable)
         @Html.ASOFTHidden(model => model.TotalRedureAmountNewTable)
         @Html.ASOFTHidden(model => model.Quantity)
         @Html.ASOFTHidden(model => model.Amount)
        <div class="container_12">
            <div class="grid_6">
                <table class="asf-table-view">
                    <tr>
                        <td>@Html.ASOFTLabel(model => model.CurrentZone)</td>
                        <td>
                            @(Html.ASOFTTextBox(model => model.CurrentZone).DisabledIf(true)
                              )
                        </td>
                    </tr>
                    <tr>
                        <td>@Html.ASOFTLabel(model => model.CurrentTable)</td>
                        <td>
                            @(Html.ASOFTTextBox(model => model.CurrentTable).DisabledIf(true)
                              )
                        </td>
                    </tr>
                </table>
                <div class="clearfix"></div>
                @Html.Partial("GridTable1")
            </div>
            <div class="grid_1">
                <div class="top-div">&nbsp;</div>
                <ul class="middle-buttons">
                    <li>@(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnChangeSingle"))
                      .Name("changeSingle")
                      .Events(m => m.Click("changeSingle")))
                    </li>

                    <li>@(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnChangeAll"))
                      .Name("BtnClose")
                      .Events(e => e.Click("changeAll")))
                    </li>

                    <li>@(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnChangeReturn"))
                      .Name("returnSingle")
                      .Events(e => e.Click("returnSingle")))
                    </li>

                    <li>@(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnReturnAll"))
                      .Name("returnAll")
                      .Events(e => e.Click("returnAll")))
                    </li>


                </ul>
            </div>
            <div class="grid_6">
                <table class="asf-table-view">
                    <tr>
                        <td>@Html.ASOFTLabel(model => model.NewZone)</td>
                        <td>
                            @(Html.ASOFTBussinessComboBox()
                              .ASOFTAreaID(model => model.NewZone)
                              .DataTextField(POST0031.COL_AREANAME)
                              )
                        </td>
                    </tr>
                    <tr>
                        <td>@Html.ASOFTLabel(model => model.NewTable)</td>
                        <td>
                           @* @(Html.ASOFTBussinessComboBox()
                              .ASOFTTableIDByAPK(model => model.NewTable)
                              .DataTextField(POST0032.COL_TABLENAME).SelectedIndex(0).Events(e => e.Change("table_Change"))
                              )*@
                              @(Html.ASOFTBussinessComboBox().ASOFTTableIDByAPK(model => model.NewTable,
                                          htmlAttributes: new Dictionary<string, object> {
                                              {"data-bind","value:NewTable"}}
                                          )
                                          .Name("NewTable")
                                          .DataSource(source =>
                                          {
                                              source.Read(read =>
                                              {
                                                  read.Action("TableIDListByAPK", "ComboBox", new { area = "" }).Data("filterNewTable");
                                              })
                                                  .ServerFiltering(true);
                                          })
                                          .CascadeFrom("APK")
                                          .Events(e => e.Change("Combobox_Change"))
                                          )
                        </td>
                    </tr>
                </table>
                <div class="clearfix"></div>
                @Html.Partial("GridTable2")
            </div>
        </div>
      
        <div class="container_12 asf-form-button">
            <ul>
                <li>@(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnSave"))
                      .Name("btnSaveNew")
                      .Events(e => e.Click("btnSaveNew")))
                </li>
                <li>
                    @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnClose"))
                      .Name("btnClose")
                      .Events(e => e.Click("ASOFT.asoftPopup.closeOnly")))

                </li>

            </ul>
        </div>  
    }
</div>

@section styleFeature{
    <link href="@Url.Content("~/Areas/POS/Content/POSF0031.css")" rel="stylesheet" type="text/css" />
     <link href="@Url.Content("~/Areas/POS/Content/POSF0031RWD/POSF0031RWD.css")" rel="stylesheet" type="text/css" />
}

@section jsFeature {
    <script src="@Url.Content("~/Areas/POS/Scripts/POSF0031.js")" type="text/javascript"></script>
}
