@model ASOFT.ERP.ViewModel.POS.POSF0055ViewModel

@{
    Layout = "~/Views/Shared/_PopupLayout.cshtml";
    ViewBag.Title = Html.ASOFTPageTitle(model => model.Title, "POSF0055").ToHtmlString();
    ViewBag.Width = 900;
}
@using (Html.BeginForm(null, null, FormMethod.Post, new
{
    id = "POSF0055"
}))
{
    @Html.ASOFTHidden(model => model.FormStatus)
    @Html.ASOFTHidden(model => model.APK)
    <div class="container_12">
        <div class="grid_6 line_right">
            <table class="asf-table-view">
                <tr>
                    <td>@Html.ASOFTLabel(model => model.VoucherNo)

                    </td>
                    <td>
                        @Html.ASOFTTextBox(model => model.VoucherNo)
                    </td>
                </tr>
                <tr>
                    <td>@Html.ASOFTLabel(model => model.VoucherDate)

                    </td>
                    <td>
                        @Html.ASOFTDateEdit(model => model.VoucherDate).Value(Model.VoucherDate ?? ASOFTEnvironment.WorkingDate)
                    </td>
                </tr>                
                <tr>
                    <td>@Html.ASOFTLabel(model => model.EmployeeID)

                    </td>
                    <td>
                        @(Html.ASOFTBussinessComboBox()
                        .ASOFTEmployeeID(model => model.EmployeeID)
                        .Events(e => e.Change("employeeID_Change")
                       .DataBound("employeeID_Change")).Enable(false))
                    </td>
                </tr>
            </table>
        </div>
        <div class="grid_6">
            <table class="asf-table-view">
                <tr>
                    <td>@Html.ASOFTLabel(model => model.EmployeeName)

                    </td>
                    <td>
                        @Html.ASOFTTextBox(model => model.EmployeeName).ReadOnlyIf(true)
                    </td>
                </tr>
                <tr>
                    <td>@Html.ASOFTLabel(model => model.Description)

                    </td>
                    <td>
                        @Html.ASOFTTextBox(model => model.Description)
                    </td>
                </tr>
            </table>
        </div>

        <div class="clearfix"></div>
        <div class="asf-form-button">
            <table class="asf-table-view">
                <tr>
                    <td>
                        <div class="asf-popup-button-container">
                            @if (Model.FormStatus == ASOFTFormActionType.AddNew)
                            {
                                bool hasPermission = true;
                                //if (Model.AllowAdd())
                                //{
                                //    hasPermission = true;
                                //}                                           
                                <div>
                                    @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnClose"))
                                          .Name("btnClose")
                                          .Events(e =>
                                              e.Click(hasPermission ? "POSVIEW.btnSaveClose_Click" : "ASOFT.asoftPopup.closeOnly"))
                                              .Deferred(true))
                                </div>
                                <div>
                                    @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnSaveCopy"))
                                          .Name("btnSaveCopy")
                                          .Events(e => e.Click("POSVIEW.btnSaveCopy_Click"))
                                          .Enable(hasPermission)
                                          .Deferred(true)
                                          )

                                </div>
                                <div>
                                    @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnSaveNew"))
                                          .Name("btnSaveContinue")
                                          .Events(e => e.Click("POSVIEW.btnSaveContinue_Click"))
                                          .Enable(hasPermission)
                                          .Deferred(true)
                                          )

                                </div>
                            }
                            else
                            {

                                bool hasPermission = false;
                                if (Model.CheckPermission("POSF00111", ASOFTPermission.Update))
                                {
                                    hasPermission = true;
                                }                                
                                <div>
                                    @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnClose"))
                                          .Name("btnClose")
                                          .Events(e =>
                                              e.Click(hasPermission ? "POSVIEW.btnClose_Click" : "ASOFT.asoftPopup.closeOnly"))
                                          .Deferred(true)
                                          )
                                </div>
                                
                                
                                <div>
                                    @(Html.ASOFTButton(ASOFTLanguage.FindWordA00("A00.btnSave"))
                                          .Name("btnSave")
                                          .Events(e => e.Click("POSVIEW.btnSave_Click"))
                                          .Enable(hasPermission)
                                          .Deferred(true)
                                          )


                                </div>
                            }
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
}
@*<link href="@Url.Content("~/Areas/POS/Content/POSP0026.css")" rel="stylesheet" type="text/css" />*@

@section jsFeature {
    <script src="@Url.Content("~/Areas/POS/Scripts/POSF0055.js")" type="text/javascript"></script>
    @Html.Kendo().DeferredScripts()
}


